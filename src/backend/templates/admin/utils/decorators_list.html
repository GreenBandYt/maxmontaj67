{% extends "admin/utils/utils_base.html" %}

{% block utils_content %}
<h2>üìú –†–µ–µ—Å—Ç—Ä –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤</h2>

<!-- –í–≤–æ–¥ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ -->
<div class="function-search">
    <input type="text" id="function-search" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏...">
    <div id="search-result"></div> <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
</div>

<div class="scrollable-table">
    <table id="decoratorTable">
        <thead>
            <tr>
                <th>üìå –§–£–ù–ö–¶–ò–Ø</th>
                <th>‚öôÔ∏è –î–ï–ö–û–†–ê–¢–û–†</th>
                <th>üì¶ –ú–û–î–£–õ–¨</th>
                <th>üìÑ –û–ü–ò–°–ê–ù–ò–ï</th>
            </tr>
        </thead>
        <tbody>
            {% for item in decorated_functions %}
            <tr>
                <td>{{ item.function_name }}</td>
                <td>{{ item.decorator }}</td>
                <td>{{ item.module }}</td>
                <td>{{ item.description }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

<script>
function sortTable(columnIndex) {
    let table = document.getElementById("decoratorTable");
    let rows = Array.from(table.rows).slice(1); // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
    let sortedRows = rows.sort((rowA, rowB) => {
        let cellA = rowA.cells[columnIndex].innerText.toLowerCase();
        let cellB = rowB.cells[columnIndex].innerText.toLowerCase();
        return cellA.localeCompare(cellB);
    });
    table.tBodies[0].append(...sortedRows);
}
</script>
</div>
{% endblock %}
