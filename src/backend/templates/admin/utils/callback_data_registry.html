{% extends "admin/utils/utils_base.html" %}

{% block utils_content %}
<h2>üìú –†–µ–µ—Å—Ç—Ä callback_data</h2>

<div class="scrollable-table">
    <table id="callbackTable">
        <thead>
            <tr>
                <th onclick="sortTable(0)">üìå CALLBACK DATA</th>
                <th onclick="sortTable(1)">‚öôÔ∏è –§–£–ù–ö–¶–ò–Ø</th>
                <th onclick="sortTable(2)">üì¶ –ú–û–î–£–õ–¨</th>
                <th onclick="sortTable(3)">üìÑ –û–ü–ò–°–ê–ù–ò–ï</th>
            </tr>
        </thead>
        <tbody>
            {% for item in callback_registry %}
            <tr>
                <td>{{ item.callback }}</td>
                <td>{{ item.function }}</td>
                <td>{{ item.module }}</td>
                <td>{{ item.description }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

<script>
function sortTable(columnIndex) {
    let table = document.getElementById("callbackTable");
    let rows = Array.from(table.rows).slice(1); // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
    let sortedRows = rows.sort((rowA, rowB) => {
        let cellA = rowA.cells[columnIndex].innerText.toLowerCase();
        let cellB = rowB.cells[columnIndex].innerText.toLowerCase();
        return cellA.localeCompare(cellB);
    });
    table.tBodies[0].append(...sortedRows);
}
</script>


</div>
{% endblock %}
