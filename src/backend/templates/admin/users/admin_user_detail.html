{% extends "base.html" %}

{% block title %}Редактирование пользователя{% endblock %}

{% block content %}
<div class="navigation-panel">
    <a href="{{ url_for('admin.users') }}" class="button">Вернуться к списку</a>
</div>

<h2>Редактирование пользователя</h2>

<form method="POST" class="form-container">
    <!-- ID (только для чтения) -->
    <div class="form-group">
        <label for="user_id">ID:</label>
        <input type="text" id="user_id" name="user_id" value="{{ user.id }}" readonly>
    </div>

    <!-- Имя -->
    <div class="form-group">
        <label for="name">Имя (обязательно):</label>
        <input type="text" id="name" name="name" value="{{ user.name }}" required>
    </div>

    <!-- Телефон -->
    <div class="form-group">
        <label for="phone">Телефон (обязательно):</label>
        <input type="text" id="phone" name="phone" value="{{ user.phone }}" required>
    </div>

    <!-- Адрес -->
    <div class="form-group">
        <label for="address">Адрес (обязательно):</label>
        <input type="text" id="address" name="address" value="{{ user.address }}" required>
    </div>

    <!-- Рейтинг -->
    <div class="form-group">
        <label for="rating">Рейтинг (0-5):</label>
        <input type="number" id="rating" name="rating" value="{{ user.rating }}" min="0" max="5" step="0.1" required>
    </div>

    <!-- Роль -->
    <div class="form-group">
        <label for="role">Роль:</label>
        <select id="role" name="role">
            {% for role in roles %}
            <option value="{{ role.id }}" {% if role.id == user.role_id %}selected{% endif %}>{{ role.name }}</option>
            {% endfor %}
        </select>
    </div>

    <!-- Паспортные данные (readonly) -->
    <div class="form-group">
        <label for="passport_data">Паспортные данные:</label>
        <input type="text" id="passport_data" name="passport_data" value="{{ user.passport_data }}" readonly>
    </div>

    <!-- Кнопка сохранения -->
    <div class="form-group">
        <button type="submit" class="button">Сохранить изменения</button>
    </div>
</form>
{% endblock %}
